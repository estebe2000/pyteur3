<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduDashboard - Widgets Éducatifs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles */
        .widget {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .widget:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .note-editor {
            min-height: 200px;
        }
        .calendar-day {
            aspect-ratio: 1;
        }
        .countdown-number {
            font-feature-settings: "tnum";
        }
        #drawingCanvas {
            border: 1px solid #e5e7eb;
            touch-action: none;
        }
        .terminal-line::before {
            content: "> ";
            color: #4ade80;
        }
        .meme-text {
            text-shadow: 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="mb-8">
            <h1 class="text-4xl font-bold text-indigo-700 mb-2">EduDashboard</h1>
            <p class="text-gray-600">Votre tableau de bord éducatif personnalisé</p>
            <div class="flex space-x-2 mt-4">
                <button onclick="toggleTheme()" class="px-3 py-1 bg-gray-200 rounded-lg text-sm">
                    <i class="fas fa-moon mr-1"></i> Mode sombre
                </button>
                <button onclick="resetAllWidgets()" class="px-3 py-1 bg-gray-200 rounded-lg text-sm">
                    <i class="fas fa-sync-alt mr-1"></i> Réinitialiser
                </button>
            </div>
        </header>

        <!-- Widget Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Bloc-notes Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <div class="flex justify-between items-center mb-3">
                    <h2 class="text-lg font-semibold text-indigo-600">
                        <i class="fas fa-book mr-2"></i> Bloc-notes
                    </h2>
                    <button onclick="saveNotes()" class="text-sm bg-indigo-100 text-indigo-700 px-2 py-1 rounded">
                        <i class="fas fa-save mr-1"></i> Sauvegarder
                    </button>
                </div>
                <div class="note-editor bg-gray-50 p-3 rounded-lg border border-gray-200">
                    <textarea id="notesContent" class="w-full h-40 bg-transparent outline-none resize-none" placeholder="Écrivez vos notes ici..."></textarea>
                </div>
            </div>

            <!-- Agenda Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-calendar-alt mr-2"></i> Agenda
                </h2>
                <div class="mb-4">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-medium">Aujourd'hui</h3>
                        <span class="text-sm text-gray-500" id="currentDate"></span>
                    </div>
                    <div class="space-y-2" id="todayEvents">
                        <div class="flex items-center p-2 bg-blue-50 rounded-lg">
                            <div class="w-8 h-8 flex items-center justify-center bg-blue-100 text-blue-700 rounded-full mr-2">
                                <i class="fas fa-book text-sm"></i>
                            </div>
                            <div>
                                <p class="text-sm font-medium">Mathématiques</p>
                                <p class="text-xs text-gray-500">08:30 - 10:00</p>
                            </div>
                        </div>
                        <div class="flex items-center p-2 bg-purple-50 rounded-lg">
                            <div class="w-8 h-8 flex items-center justify-center bg-purple-100 text-purple-700 rounded-full mr-2">
                                <i class="fas fa-flask text-sm"></i>
                            </div>
                            <div>
                                <p class="text-sm font-medium">Physique</p>
                                <p class="text-xs text-gray-500">10:30 - 12:00</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button onclick="showAddEventModal()" class="w-full py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                    <i class="fas fa-plus mr-1"></i> Ajouter un événement
                </button>
            </div>

            <!-- Countdown Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-clock mr-2"></i> Compte à rebours
                </h2>
                <div class="text-center mb-4">
                    <select id="countdownTarget" class="w-full p-2 border rounded-lg mb-3">
                        <option value="bac2024">Baccalauréat 2024</option>
                        <option value="noel2023">Noël 2023</option>
                        <option value="vacances2024">Vacances d'été 2024</option>
                    </select>
                    <div class="grid grid-cols-4 gap-2">
                        <div class="bg-indigo-50 rounded-lg p-2">
                            <div class="countdown-number text-2xl font-bold text-indigo-700" id="countdownDays">00</div>
                            <div class="text-xs text-gray-500">Jours</div>
                        </div>
                        <div class="bg-indigo-50 rounded-lg p-2">
                            <div class="countdown-number text-2xl font-bold text-indigo-700" id="countdownHours">00</div>
                            <div class="text-xs text-gray-500">Heures</div>
                        </div>
                        <div class="bg-indigo-50 rounded-lg p-2">
                            <div class="countdown-number text-2xl font-bold text-indigo-700" id="countdownMinutes">00</div>
                            <div class="text-xs text-gray-500">Minutes</div>
                        </div>
                        <div class="bg-indigo-50 rounded-lg p-2">
                            <div class="countdown-number text-2xl font-bold text-indigo-700" id="countdownSeconds">00</div>
                            <div class="text-xs text-gray-500">Secondes</div>
                        </div>
                    </div>
                </div>
                <p class="text-sm text-center text-gray-600" id="countdownLabel">Temps restant avant le Bac 2024</p>
            </div>

            <!-- Daily Quiz Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-question-circle mr-2"></i> Quiz du jour
                </h2>
                <div class="bg-gray-50 rounded-lg p-4 mb-3">
                    <p class="text-sm font-medium mb-2" id="quizQuestion">Quelle est la capitale de la France ?</p>
                    <div class="space-y-2" id="quizOptions">
                        <button onclick="checkAnswer(this, 'Paris')" class="w-full text-left p-2 bg-white border rounded-lg hover:bg-indigo-50 transition">Paris</button>
                        <button onclick="checkAnswer(this, 'Lyon')" class="w-full text-left p-2 bg-white border rounded-lg hover:bg-indigo-50 transition">Lyon</button>
                        <button onclick="checkAnswer(this, 'Marseille')" class="w-full text-left p-2 bg-white border rounded-lg hover:bg-indigo-50 transition">Marseille</button>
                        <button onclick="checkAnswer(this, 'Toulouse')" class="w-full text-left p-2 bg-white border rounded-lg hover:bg-indigo-50 transition">Toulouse</button>
                    </div>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500">Score: <span id="quizScore">0</span>/<span id="quizTotal">0</span></span>
                    <button onclick="newQuizQuestion()" class="text-sm bg-indigo-100 text-indigo-700 px-2 py-1 rounded">
                        <i class="fas fa-redo mr-1"></i> Nouvelle question
                    </button>
                </div>
            </div>

            <!-- Unit Converter Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-exchange-alt mr-2"></i> Convertisseur
                </h2>
                <div class="mb-3">
                    <select id="converterType" class="w-full p-2 border rounded-lg mb-2" onchange="updateConverterUnits()">
                        <option value="length">Longueur</option>
                        <option value="weight">Masse</option>
                        <option value="temperature">Température</option>
                        <option value="digital">Stockage numérique</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <input type="number" id="converterInput" class="w-full p-2 border rounded-lg mb-2" value="1" oninput="convertUnits()">
                        <select id="converterFrom" class="w-full p-2 border rounded-lg" onchange="convertUnits()"></select>
                    </div>
                    <div>
                        <input type="number" id="converterOutput" class="w-full p-2 border rounded-lg mb-2" readonly>
                        <select id="converterTo" class="w-full p-2 border rounded-lg" onchange="convertUnits()"></select>
                    </div>
                </div>
            </div>

            <!-- Code Editor Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-code mr-2"></i> Mini IDE
                </h2>
                <div class="mb-2">
                    <select id="codeLanguage" class="w-full p-2 border rounded-lg mb-2">
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                    </select>
                </div>
                <div class="bg-gray-800 rounded-lg p-2 mb-2">
                    <textarea id="codeEditor" class="w-full h-32 bg-gray-800 text-green-400 font-mono text-sm outline-none resize-none" spellcheck="false"># Votre code ici</textarea>
                </div>
                <button onclick="runCode()" class="w-full py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                    <i class="fas fa-play mr-1"></i> Exécuter
                </button>
                <div id="codeOutput" class="mt-2 p-2 bg-gray-100 rounded-lg hidden"></div>
            </div>

            <!-- Weather Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-cloud-sun mr-2"></i> Météo
                </h2>
                <div class="flex items-center mb-3">
                    <input type="text" id="weatherLocation" class="flex-grow p-2 border rounded-l-lg" placeholder="Ville" value="Paris">
                    <button onclick="fetchWeather()" class="bg-indigo-100 text-indigo-700 p-2 rounded-r-lg">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="flex items-center justify-between">
                    <div>
                        <div class="text-4xl font-bold" id="weatherTemp">24°C</div>
                        <div class="text-gray-600" id="weatherDescription">Ensoleillé</div>
                    </div>
                    <div class="text-5xl" id="weatherIcon">
                        <i class="fas fa-sun text-yellow-400"></i>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-2 mt-3 text-center text-sm">
                    <div class="bg-blue-50 p-2 rounded-lg">
                        <div class="text-gray-500">Humidité</div>
                        <div id="weatherHumidity">45%</div>
                    </div>
                    <div class="bg-blue-50 p-2 rounded-lg">
                        <div class="text-gray-500">Vent</div>
                        <div id="weatherWind">12 km/h</div>
                    </div>
                    <div class="bg-blue-50 p-2 rounded-lg">
                        <div class="text-gray-500">Pression</div>
                        <div id="weatherPressure">1012 hPa</div>
                    </div>
                </div>
            </div>

            <!-- Quote Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-quote-left mr-2"></i> Citation du jour
                </h2>
                <div class="bg-indigo-50 rounded-lg p-4 mb-3">
                    <p class="italic text-indigo-800 mb-2" id="quoteText">"L'éducation est l'arme la plus puissante qu'on puisse utiliser pour changer le monde."</p>
                    <p class="text-right text-sm text-indigo-700" id="quoteAuthor">- Nelson Mandela</p>
                </div>
                <button onclick="fetchNewQuote()" class="w-full py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                    <i class="fas fa-sync-alt mr-1"></i> Nouvelle citation
                </button>
            </div>

            <!-- News Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-newspaper mr-2"></i> Actualités Tech
                </h2>
                <div class="space-y-3" id="newsContainer">
                    <div class="flex items-start">
                        <div class="w-16 h-16 bg-gray-200 rounded-lg mr-3 overflow-hidden">
                            <img src="https://via.placeholder.com/80" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h3 class="font-medium text-sm mb-1">Nouvelle mise à jour de Windows 11</h3>
                            <p class="text-xs text-gray-500">Microsoft annonce des fonctionnalités innovantes...</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="w-16 h-16 bg-gray-200 rounded-lg mr-3 overflow-hidden">
                            <img src="https://via.placeholder.com/80" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h3 class="font-medium text-sm mb-1">L'IA révolutionne la médecine</h3>
                            <p class="text-xs text-gray-500">Des algorithmes capables de détecter des maladies...</p>
                        </div>
                    </div>
                </div>
                <button onclick="fetchTechNews()" class="w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                    <i class="fas fa-sync-alt mr-1"></i> Actualiser
                </button>
            </div>

            <!-- World Map Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-globe-europe mr-2"></i> Carte du monde
                </h2>
                <div class="bg-gray-100 rounded-lg overflow-hidden mb-3">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/World_map_-_low_resolution.svg/1200px-World_map_-_low_resolution.svg.png" class="w-full h-auto">
                </div>
                <div class="flex items-center">
                    <input type="text" id="countrySearch" class="flex-grow p-2 border rounded-l-lg" placeholder="Rechercher un pays">
                    <button onclick="highlightCountry()" class="bg-indigo-100 text-indigo-700 p-2 rounded-r-lg">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="mt-2 text-sm text-gray-600 hidden" id="countryInfo">
                    <p><span class="font-medium">Capitale:</span> <span id="countryCapital">-</span></p>
                    <p><span class="font-medium">Population:</span> <span id="countryPopulation">-</span></p>
                </div>
            </div>

            <!-- Mini Game Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-gamepad mr-2"></i> Mini-jeu
                </h2>
                <select id="gameSelector" class="w-full p-2 border rounded-lg mb-3" onchange="loadSelectedGame()">
                    <option value="snake">Snake</option>
                    <option value="pong">Pong</option>
                    <option value="memory">Memory</option>
                </select>
                <div class="bg-gray-100 rounded-lg overflow-hidden mb-3">
                    <canvas id="gameCanvas" width="100%" height="200" class="w-full bg-gray-800"></canvas>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-sm" id="gameScore">Score: 0</span>
                    <div class="space-x-2">
                        <button onclick="startGame()" class="text-sm bg-indigo-100 text-indigo-700 px-2 py-1 rounded">
                            <i class="fas fa-play mr-1"></i> Jouer
                        </button>
                        <button onclick="resetGame()" class="text-sm bg-gray-100 text-gray-700 px-2 py-1 rounded">
                            <i class="fas fa-redo mr-1"></i> Reset
                        </button>
                    </div>
                </div>
            </div>

            <!-- Music Player Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-music mr-2"></i> Lecteur de musique
                </h2>
                <div class="bg-indigo-50 rounded-lg p-3 mb-3">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-gray-300 rounded-lg mr-3 overflow-hidden">
                            <img id="musicCover" src="https://via.placeholder.com/80" class="w-full h-full object-cover">
                        </div>
                        <div class="flex-grow">
                            <h3 class="font-medium" id="musicTitle">Titre de la musique</h3>
                            <p class="text-sm text-gray-600" id="musicArtist">Artiste</p>
                        </div>
                    </div>
                    <div class="mb-2">
                        <div class="h-1 bg-gray-200 rounded-full">
                            <div class="h-1 bg-indigo-600 rounded-full w-1/3" id="musicProgress"></div>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs text-gray-500" id="musicCurrentTime">0:00</span>
                        <span class="text-xs text-gray-500" id="musicDuration">3:30</span>
                    </div>
                </div>
                <div class="flex justify-center items-center space-x-4">
                    <button onclick="prevTrack()" class="w-8 h-8 flex items-center justify-center rounded-full bg-indigo-100 text-indigo-700">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button onclick="togglePlay()" class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-600 text-white">
                        <i class="fas fa-play" id="playIcon"></i>
                    </button>
                    <button onclick="nextTrack()" class="w-8 h-8 flex items-center justify-center rounded-full bg-indigo-100 text-indigo-700">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
                <audio id="audioPlayer" src=""></audio>
            </div>

            <!-- Tamagotchi Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-paw mr-2"></i> Tamagotchi
                </h2>
                <div class="bg-pink-50 rounded-lg p-4 mb-3 text-center">
                    <div class="w-24 h-24 mx-auto mb-2 relative">
                        <img id="tamagotchiImage" src="https://cdn-icons-png.flaticon.com/512/188/188987.png" class="w-full h-full object-contain">
                        <div class="absolute bottom-0 left-0 right-0 bg-white bg-opacity-70 rounded-full px-2 py-1 text-xs">
                            <span id="tamagotchiName">Edu</span>
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-2 text-xs mb-2">
                        <div>
                            <div class="h-2 bg-gray-200 rounded-full mb-1">
                                <div class="h-2 bg-red-400 rounded-full" id="hungerBar" style="width: 70%"></div>
                            </div>
                            <span>Faim</span>
                        </div>
                        <div>
                            <div class="h-2 bg-gray-200 rounded-full mb-1">
                                <div class="h-2 bg-blue-400 rounded-full" id="energyBar" style="width: 50%"></div>
                            </div>
                            <span>Énergie</span>
                        </div>
                        <div>
                            <div class="h-2 bg-gray-200 rounded-full mb-1">
                                <div class="h-2 bg-yellow-400 rounded-full" id="happinessBar" style="width: 80%"></div>
                            </div>
                            <span>Bonheur</span>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="feedTamagotchi()" class="p-2 bg-green-100 text-green-700 rounded-lg text-sm">
                        <i class="fas fa-utensils mr-1"></i> Nourrir
                    </button>
                    <button onclick="playWithTamagotchi()" class="p-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm">
                        <i class="fas fa-gamepad mr-1"></i> Jouer
                    </button>
                    <button onclick="sleepTamagotchi()" class="p-2 bg-blue-100 text-blue-700 rounded-lg text-sm">
                        <i class="fas fa-bed mr-1"></i> Dormir
                    </button>
                </div>
            </div>

            <!-- Drawing Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-paint-brush mr-2"></i> Dessin libre
                </h2>
                <div class="bg-gray-100 rounded-lg overflow-hidden mb-3">
                    <canvas id="drawingCanvas" width="100%" height="200"></canvas>
                </div>
                <div class="flex justify-between items-center mb-2">
                    <div class="flex space-x-2">
                        <button onclick="changeColor('black')" class="w-6 h-6 rounded-full bg-black border-2 border-gray-300"></button>
                        <button onclick="changeColor('red')" class="w-6 h-6 rounded-full bg-red-500 border-2 border-gray-300"></button>
                        <button onclick="changeColor('blue')" class="w-6 h-6 rounded-full bg-blue-500 border-2 border-gray-300"></button>
                        <button onclick="changeColor('green')" class="w-6 h-6 rounded-full bg-green-500 border-2 border-gray-300"></button>
                    </div>
                    <div>
                        <input type="range" id="brushSize" min="1" max="20" value="5" class="w-20">
                        <span class="text-xs ml-1" id="brushSizeValue">5px</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-2">
                    <button onclick="clearCanvas()" class="p-2 bg-gray-100 text-gray-700 rounded-lg text-sm">
                        <i class="fas fa-trash-alt mr-1"></i> Effacer
                    </button>
                    <button onclick="saveDrawing()" class="p-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                        <i class="fas fa-save mr-1"></i> Sauvegarder
                    </button>
                </div>
            </div>

            <!-- Meme Generator Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-laugh-squint mr-2"></i> Générateur de mèmes
                </h2>
                <div class="bg-gray-100 rounded-lg overflow-hidden mb-3 relative" id="memeContainer">
                    <img id="memeImage" src="https://i.imgflip.com/4/1bij.jpg" class="w-full h-40 object-cover">
                    <div class="absolute top-2 left-0 right-0 text-center">
                        <p class="meme-text text-white font-bold text-xl" id="memeTopText">TEXTE DU HAUT</p>
                    </div>
                    <div class="absolute bottom-2 left-0 right-0 text-center">
                        <p class="meme-text text-white font-bold text-xl" id="memeBottomText">TEXTE DU BAS</p>
                    </div>
                </div>
                <div class="mb-2">
                    <select id="memeTemplate" class="w-full p-2 border rounded-lg mb-2" onchange="changeMemeTemplate()">
                        <option value="1bij.jpg">One Does Not Simply</option>
                        <option value="9vz.jpg">Y U No</option>
                        <option value="a5i.jpg">Ancient Aliens</option>
                        <option value="zq3.jpg">Oprah You Get A</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 gap-2 mb-2">
                    <input type="text" id="memeTopInput" class="p-2 border rounded-lg" placeholder="Texte du haut" oninput="updateMemeText()">
                    <input type="text" id="memeBottomInput" class="p-2 border rounded-lg" placeholder="Texte du bas" oninput="updateMemeText()">
                </div>
                <button onclick="downloadMeme()" class="w-full py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                    <i class="fas fa-download mr-1"></i> Télécharger
                </button>
            </div>

            <!-- System Monitor Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-tachometer-alt mr-2"></i> Surveillance système
                </h2>
                <div class="space-y-3">
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>CPU</span>
                            <span id="cpuUsage">25%</span>
                        </div>
                        <div class="h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-red-400 rounded-full" id="cpuBar" style="width: 25%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>Mémoire</span>
                            <span id="ramUsage">1.8/4 Go (45%)</span>
                        </div>
                        <div class="h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-blue-400 rounded-full" id="ramBar" style="width: 45%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>Stockage</span>
                            <span id="storageUsage">128/256 Go (50%)</span>
                        </div>
                        <div class="h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-green-400 rounded-full" id="storageBar" style="width: 50%"></div>
                        </div>
                    </div>
                </div>
                <button onclick="simulateSystemLoad()" class="w-full mt-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm">
                    <i class="fas fa-bolt mr-1"></i> Simuler charge
                </button>
            </div>

            <!-- File Manager Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-folder mr-2"></i> Gestionnaire de fichiers
                </h2>
                <div class="flex items-center mb-3">
                    <input type="text" id="fileSearch" class="flex-grow p-2 border rounded-l-lg" placeholder="Rechercher un fichier">
                    <button onclick="searchFiles()" class="bg-indigo-100 text-indigo-700 p-2 rounded-r-lg">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="bg-gray-50 rounded-lg p-2 mb-3" style="max-height: 200px; overflow-y: auto;">
                    <div class="flex items-center p-2 hover:bg-gray-100 rounded-lg cursor-pointer">
                        <i class="fas fa-folder text-yellow-500 mr-2"></i>
                        <span>Documents</span>
                    </div>
                    <div class="flex items-center p-2 hover:bg-gray-100 rounded-lg cursor-pointer">
                        <i class="fas fa-file-word text-blue-500 mr-2"></i>
                        <span>Devoir_maths.docx</span>
                    </div>
                    <div class="flex items-center p-2 hover:bg-gray-100 rounded-lg cursor-pointer">
                        <i class="fas fa-file-pdf text-red-500 mr-2"></i>
                        <span>TP_physique.pdf</span>
                    </div>
                    <div class="flex items-center p-2 hover:bg-gray-100 rounded-lg cursor-pointer">
                        <i class="fas fa-file-image text-green-500 mr-2"></i>
                        <span>Diagramme.png</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-2">
                    <button onclick="createNewFile()" class="p-2 bg-green-100 text-green-700 rounded-lg text-sm">
                        <i class="fas fa-plus mr-1"></i> Nouveau
                    </button>
                    <button onclick="uploadFile()" class="p-2 bg-blue-100 text-blue-700 rounded-lg text-sm">
                        <i class="fas fa-upload mr-1"></i> Importer
                    </button>
                </div>
            </div>

            <!-- App Launcher Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-rocket mr-2"></i> Lanceur d'apps
                </h2>
                <div class="grid grid-cols-4 gap-3 text-center">
                    <button onclick="launchApp('notes')" class="p-2 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition">
                        <i class="fas fa-book text-indigo-600 text-xl mb-1"></i>
                        <span class="text-xs block">Notes</span>
                    </button>
                    <button onclick="launchApp('calendar')" class="p-2 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition">
                        <i class="fas fa-calendar text-indigo-600 text-xl mb-1"></i>
                        <span class="text-xs block">Agenda</span>
                    </button>
                    <button onclick="launchApp('calculator')" class="p-2 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition">
                        <i class="fas fa-calculator text-indigo-600 text-xl mb-1"></i>
                        <span class="text-xs block">Calculs</span>
                    </button>
                    <button onclick="launchApp('browser')" class="p-2 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition">
                        <i class="fas fa-globe text-indigo-600 text-xl mb-1"></i>
                        <span class="text-xs block">Web</span>
                    </button>
                </div>
                <div class="mt-3">
                    <input type="text" id="appSearch" class="w-full p-2 border rounded-lg" placeholder="Rechercher une application...">
                </div>
            </div>

            <!-- Terminal Widget -->
            <div class="widget bg-white rounded-xl p-4">
                <h2 class="text-lg font-semibold text-indigo-600 mb-3">
                    <i class="fas fa-terminal mr-2"></i> Terminal
                </h2>
                <div class="bg-gray-800 text-green-400 font-mono text-sm rounded-lg p-3 h-48 overflow-y-auto" id="terminalOutput">
                    <div class="terminal-line">Bienvenue dans le terminal EduDashboard</div>
                    <div class="terminal-line">Tapez 'help' pour voir les commandes disponibles</div>
                </div>
                <div class="flex mt-2">
                    <span class="text-green-400 font-mono mr-2">$</span>
                    <input type="text" id="terminalInput" class="flex-grow bg-gray-800 text-green-400 font-mono outline-none" onkeypress="handleTerminalInput(event)">
                </div>
            </div>
        </div>
    </div>

    <!-- Add Event Modal -->
    <div id="eventModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-xl p-6 w-full max-w-md">
            <h2 class="text-xl font-semibold text-indigo-700 mb-4">Ajouter un événement</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Titre</label>
                    <input type="text" id="eventTitle" class="w-full p-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                    <input type="date" id="eventDate" class="w-full p-2 border rounded-lg">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Heure de début</label>
                        <input type="time" id="eventStart" class="w-full p-2 border rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Heure de fin</label>
                        <input type="time" id="eventEnd" class="w-full p-2 border rounded-lg">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Matière</label>
                    <select id="eventSubject" class="w-full p-2 border rounded-lg">
                        <option value="math">Mathématiques</option>
                        <option value="physics">Physique</option>
                        <option value="chemistry">Chimie</option>
                        <option value="biology">Biologie</option>
                        <option value="history">Histoire</option>
                        <option value="french">Français</option>
                        <option value="english">Anglais</option>
                    </select>
                </div>
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button onclick="hideAddEventModal()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg">Annuler</button>
                <button onclick="addNewEvent()" class="px-4 py-2 bg-indigo-600 text-white rounded-lg">Ajouter</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize widgets when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const now = new Date();
            document.getElementById('currentDate').textContent = now.toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long' });
            
            // Load saved notes
            if(localStorage.getItem('savedNotes')) {
                document.getElementById('notesContent').value = localStorage.getItem('savedNotes');
            }
            
            // Initialize countdown
            updateCountdown();
            setInterval(updateCountdown, 1000);
            
            // Initialize converter
            updateConverterUnits();
            
            // Initialize quiz
            initializeQuiz();
            
            // Initialize drawing canvas
            initDrawingCanvas();
            
            // Initialize terminal commands
            initTerminalCommands();
            
            // Initialize music player
            initMusicPlayer();
            
            // Initialize system monitor
            updateSystemStats();
            
            // Initialize meme generator
            updateMemeText();
            
            // Initialize tamagotchi
            initTamagotchi();
        });

        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('bg-gray-900');
            document.body.classList.toggle('text-white');
            
            const widgets = document.querySelectorAll('.widget');
            widgets.forEach(widget => {
                widget.classList.toggle('bg-gray-800');
                widget.classList.toggle('bg-white');
            });
            
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                if(button.classList.contains('bg-indigo-100')) {
                    button.classList.toggle('bg-indigo-900');
                    button.classList.toggle('bg-indigo-100');
                }
            });
        }

        // Notes widget
        function saveNotes() {
            const notesContent = document.getElementById('notesContent').value;
            localStorage.setItem('savedNotes', notesContent);
            
            // Show confirmation
            const saveBtn = document.querySelector('button[onclick="saveNotes()"]');
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '<i class="fas fa-check mr-1"></i> Sauvegardé';
            setTimeout(() => {
                saveBtn.innerHTML = originalText;
            }, 2000);
        }

        // Calendar widget
        function showAddEventModal() {
            document.getElementById('eventModal').classList.remove('hidden');
            
            // Set default date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('eventDate').value = today;
            
            // Set default time to next hour
            const now = new Date();
            const nextHour = new Date(now.getTime() + 60 * 60 * 1000);
            
            document.getElementById('eventStart').value = now.toTimeString().substring(0, 5);
            document.getElementById('eventEnd').value = nextHour.toTimeString().substring(0, 5);
        }

        function hideAddEventModal() {
            document.getElementById('eventModal').classList.add('hidden');
        }

        function addNewEvent() {
            const title = document.getElementById('eventTitle').value;
            const date = document.getElementById('eventDate').value;
            const start = document.getElementById('eventStart').value;
            const end = document.getElementById('eventEnd').value;
            const subject = document.getElementById('eventSubject').value;
            
            if(!title || !date || !start || !end) {
                alert('Veuillez remplir tous les champs');
                return;
            }
            
            // Create event element
            const eventElement = document.createElement('div');
            eventElement.className = 'flex items-center p-2 bg-indigo-50 rounded-lg';
            
            const subjectIcons = {
                'math': 'fas fa-square-root-alt',
                'physics': 'fas fa-atom',
                'chemistry': 'fas fa-flask',
                'biology': 'fas fa-dna',
                'history': 'fas fa-landmark',
                'french': 'fas fa-book-open',
                'english': 'fas fa-language'
            };
            
            const subjectColors = {
                'math': 'bg-blue-100 text-blue-700',
                'physics': 'bg-purple-100 text-purple-700',
                'chemistry': 'bg-green-100 text-green-700',
                'biology': 'bg-red-100 text-red-700',
                'history': 'bg-yellow-100 text-yellow-700',
                'french': 'bg-indigo-100 text-indigo-700',
                'english': 'bg-pink-100 text-pink-700'
            };
            
            eventElement.innerHTML = `
                <div class="w-8 h-8 flex items-center justify-center ${subjectColors[subject]} rounded-full mr-2">
                    <i class="${subjectIcons[subject]} text-sm"></i>
                </div>
                <div>
                    <p class="text-sm font-medium">${title}</p>
                    <p class="text-xs text-gray-500">${start} - ${end}</p>
                </div>
            `;
            
            document.getElementById('todayEvents').appendChild(eventElement);
            hideAddEventModal();
            
            // Reset form
            document.getElementById('eventTitle').value = '';
        }

        // Countdown widget
        function updateCountdown() {
            const targetSelect = document.getElementById('countdownTarget');
            const selectedTarget = targetSelect.value;
            
            let targetDate;
            
            switch(selectedTarget) {
                case 'bac2024':
                    targetDate = new Date('2024-06-17');
                    document.getElementById('countdownLabel').textContent = 'Temps restant avant le Bac 2024';
                    break;
                case 'noel2023':
                    targetDate = new Date('2023-12-25');
                    document.getElementById('countdownLabel').textContent = 'Temps restant avant Noël 2023';
                    break;
                case 'vacances2024':
                    targetDate = new Date('2024-07-06');
                    document.getElementById('countdownLabel').textContent = 'Temps restant avant les vacances d\'été 2024';
                    break;
                default:
                    targetDate = new Date('2024-06-17');
            }
            
            const now = new Date();
            const diff = targetDate - now;
            
            if(diff <= 0) {
                document.getElementById('countdownDays').textContent = '00';
                document.getElementById('countdownHours').textContent = '00';
                document.getElementById('countdownMinutes').textContent = '00';
                document.getElementById('countdownSeconds').textContent = '00';
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById('countdownDays').textContent = days.toString().padStart(2, '0');
            document.getElementById('countdownHours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('countdownMinutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('countdownSeconds').textContent = seconds.toString().padStart(2, '0');
        }

        // Quiz widget
        const quizQuestions = [
            {
                question: "Quelle est la capitale de la France ?",
                options: ["Paris", "Lyon", "Marseille", "Toulouse"],
                answer: "Paris"
            },
            {
                question: "Qui a peint la Joconde ?",
                options: ["Pablo Picasso", "Vincent van Gogh", "Léonard de Vinci", "Michel-Ange"],
                answer: "Léonard de Vinci"
            },
            {
                question: "Quelle est la formule chimique de l'eau ?",
                options: ["CO2", "H2O", "NaCl", "O2"],
                answer: "H2O"
            },
            {
                question: "En quelle année a eu lieu la Révolution française ?",
                options: ["1776", "1789", "1815", "1848"],
                answer: "1789"
            },
            {
                question: "Quel est le plus grand océan du monde ?",
                options: ["Océan Atlantique", "Océan Indien", "Océan Pacifique", "Océan Arctique"],
                answer: "Océan Pacifique"
            }
        ];

        let quizScore = 0;
        let quizTotal = 0;
        let currentQuestionIndex = 0;

        function initializeQuiz() {
            quizScore = 0;
            quizTotal = 0;
            document.getElementById('quizScore').textContent = quizScore;
            document.getElementById('quizTotal').textContent = quizTotal;
            showRandomQuestion();
        }

        function showRandomQuestion() {
            currentQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            const question = quizQuestions[currentQuestionIndex];
            
            document.getElementById('quizQuestion').textContent = question.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            // Shuffle options
            const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);
            
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-2 bg-white border rounded-lg hover:bg-indigo-50 transition';
                button.textContent = option;
                button.onclick = function() { checkAnswer(this, option); };
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(button, selectedAnswer) {
            const correctAnswer = quizQuestions[currentQuestionIndex].answer;
            quizTotal++;
            
            if(selectedAnswer === correctAnswer) {
                button.classList.add('bg-green-100', 'text-green-700');
                quizScore++;
            } else {
                button.classList.add('bg-red-100', 'text-red-700');
                
                // Highlight correct answer
                const buttons = document.querySelectorAll('#quizOptions button');
                buttons.forEach(btn => {
                    if(btn.textContent === correctAnswer) {
                        btn.classList.add('bg-green-100', 'text-green-700');
                    }
                });
            }
            
            document.getElementById('quizScore').textContent = quizScore;
            document.getElementById('quizTotal').textContent = quizTotal;
            
            // Disable all buttons after answer
            const buttons = document.querySelectorAll('#quizOptions button');
            buttons.forEach(btn => {
                btn.disabled = true;
            });
        }

        function newQuizQuestion() {
            showRandomQuestion();
        }

        // Unit converter widget
        const unitTypes = {
            length: [
                { name: 'Millimètres', value: 'mm', factor: 0.001 },
                { name: 'Centimètres', value: 'cm', factor: 0.01 },
                { name: 'Mètres', value: 'm', factor: 1 },
                { name: 'Kilomètres', value: 'km', factor: 1000 },
                { name: 'Pouces', value: 'in', factor: 0.0254 },
                { name: 'Pieds', value: 'ft', factor: 0.3048 },
                { name: 'Miles', value: 'mi', factor: 1609.34 }
            ],
            weight: [
                { name: 'Milligrammes', value: 'mg', factor: 0.000001 },
                { name: 'Grammes', value: 'g', factor: 0.001 },
                { name: 'Kilogrammes', value: 'kg', factor: 1 },
                { name: 'Tonnes', value: 't', factor: 1000 },
                { name: 'Ounces', value: 'oz', factor: 0.0283495 },
                { name: 'Livres', value: 'lb', factor: 0.453592 }
            ],
            temperature: [
                { name: 'Celsius', value: 'C' },
                { name: 'Fahrenheit', value: 'F' },
                { name: 'Kelvin', value: 'K' }
            ],
            digital: [
                { name: 'Bits', value: 'b', factor: 0.125 },
                { name: 'Octets', value: 'B', factor: 1 },
                { name: 'Kilooctets', value: 'KB', factor: 1024 },
                { name: 'Mégaoctets', value: 'MB', factor: 1048576 },
                { name: 'Gigaoctets', value: 'GB', factor: 1073741824 },
                { name: 'Téraoctets', value: 'TB', factor: 1099511627776 }
            ]
        };

        function updateConverterUnits() {
            const type = document.getElementById('converterType').value;
            const fromSelect = document.getElementById('converterFrom');
            const toSelect = document.getElementById('converterTo');
            
            // Clear existing options
            fromSelect.innerHTML = '';
            toSelect.innerHTML = '';
            
            // Add new options
            unitTypes[type].forEach(unit => {
                const fromOption = document.createElement('option');
                fromOption.value = unit.value;
                fromOption.textContent = unit.name;
                fromSelect.appendChild(fromOption);
                
                const toOption = document.createElement('option');
                toOption.value = unit.value;
                toOption.textContent = unit.name;
                toSelect.appendChild(toOption);
            });
            
            // Set default "to" unit different from "from"
            if(unitTypes[type].length > 1) {
                toSelect.selectedIndex = 1;
            }
            
            // Convert immediately
            convertUnits();
        }

        function convertUnits() {
            const type = document.getElementById('converterType').value;
            const fromUnit = document.getElementById('converterFrom').value;
            const toUnit = document.getElementById('converterTo').value;
            const inputValue = parseFloat(document.getElementById('converterInput').value) || 0;
            
            let result;
            
            if(type === 'temperature') {
                // Temperature conversion
                const temp = inputValue;
                
                if(fromUnit === 'C' && toUnit === 'F') {
                    result = (temp * 9/5) + 32;
                } else if(fromUnit === 'F' && toUnit === 'C') {
                    result = (temp - 32) * 5/9;
                } else if(fromUnit === 'C' && toUnit === 'K') {
                    result = temp + 273.15;
                } else if(fromUnit === 'K' && toUnit === 'C') {
                    result = temp - 273.15;
                } else if(fromUnit === 'F' && toUnit === 'K') {
                    result = (temp - 32) * 5/9 + 273.15;
                } else if(fromUnit === 'K' && toUnit === 'F') {
                    result = (temp - 273.15) * 9/5 + 32;
                } else {
                    result = temp; // Same units
                }
            } else {
                // Other conversions using factors
                const fromFactor = unitTypes[type].find(u => u.value === fromUnit).factor;
                const toFactor = unitTypes[type].find(u => u.value === toUnit).factor;
                
                // Convert to base unit first, then to target unit
                const baseValue = inputValue * fromFactor;
                result = baseValue / toFactor;
            }
            
            document.getElementById('converterOutput').value = result.toFixed(6).replace(/\.?0+$/, '');
        }

        // Code editor widget
        function runCode() {
            const language = document.getElementById('codeLanguage').value;
            const code = document.getElementById('codeEditor').value;
            const outputDiv = document.getElementById('codeOutput');
            
            outputDiv.classList.remove('hidden');
            outputDiv.innerHTML = '<div class="text-gray-600">Exécution en cours...</div>';
            
            // Simple execution for demo purposes
            setTimeout(() => {
                try {
                    if(language === 'javascript') {
                        // Very unsafe in real life! Just for demo
                        outputDiv.innerHTML = '<div class="text-green-600">Résultat: ' + eval(code) + '</div>';
                    } else if(language === 'python') {
                        // Can't actually run Python in browser without a library
                        outputDiv.innerHTML = '<div class="text-green-600">Code Python exécuté (simulation)</div>';
                    } else if(language === 'html') {
                        outputDiv.innerHTML = code;
                    } else if(language === 'css') {
                        const style = document.createElement('style');
                        style.textContent = code;
                        document.head.appendChild(style);
                        outputDiv.innerHTML = '<div class="text-green-600">CSS appliqué à la page</div>';
                    }
                } catch(e) {
                    outputDiv.innerHTML = '<div class="text-red-600">Erreur: ' + e.message + '</div>';
                }
            }, 500);
        }

        // Weather widget
        function fetchWeather() {
            const location = document.getElementById('weatherLocation').value || 'Paris';
            
            // Simulate API call with mock data
            const mockWeather = {
                temp: Math.round(15 + Math.random() * 15),
                description: ['Ensoleillé', 'Nuageux', 'Pluvieux', 'Orageux'][Math.floor(Math.random() * 4)],
                humidity: Math.round(30 + Math.random() * 60),
                wind: Math.round(5 + Math.random() * 20),
                pressure: Math.round(990 + Math.random() * 40),
                icon: ['fa-sun', 'fa-cloud', 'fa-cloud-rain', 'fa-bolt'][Math.floor(Math.random() * 4)]
            };
            
            document.getElementById('weatherTemp').textContent = mockWeather.temp + '°C';
            document.getElementById('weatherDescription').textContent = mockWeather.description;
            document.getElementById('weatherHumidity').textContent = mockWeather.humidity + '%';
            document.getElementById('weatherWind').textContent = mockWeather.wind + ' km/h';
            document.getElementById('weatherPressure').textContent = mockWeather.pressure + ' hPa';
            
            const iconElement = document.getElementById('weatherIcon');
            iconElement.innerHTML = `<i class="fas ${mockWeather.icon} text-yellow-400"></i>`;
            
            if(mockWeather.icon === 'fa-cloud-rain' || mockWeather.icon === 'fa-bolt') {
                iconElement.classList.remove('text-yellow-400');
                iconElement.classList.add('text-gray-400');
            } else {
                iconElement.classList.remove('text-gray-400');
                iconElement.classList.add('text-yellow-400');
            }
        }

        // Quote widget
        const quotes = [
            { text: "L'éducation est l'arme la plus puissante qu'on puisse utiliser pour changer le monde.", author: "Nelson Mandela" },
            { text: "La vie, c'est comme une bicyclette, il faut avancer pour ne pas perdre l'équilibre.", author: "Albert Einstein" },
            { text: "Le succès, c'est d'aller d'échec en échec sans perdre son enthousiasme.", author: "Winston Churchill" },
            { text: "La seule façon de faire du bon travail est d'aimer ce que vous faites.", author: "Steve Jobs" },
            { text: "La simplicité est la sophistication suprême.", author: "Léonard de Vinci" },
            { text: "Le savoir est la seule matière qui s'accroît quand on la partage.", author: "Socrate" },
            { text: "L'imagination est plus importante que le savoir.", author: "Albert Einstein" }
        ];

        function fetchNewQuote() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('quoteText').textContent = `"${randomQuote.text}"`;
            document.getElementById('quoteAuthor').textContent = `- ${randomQuote.author}`;
        }

        // News widget
        function fetchTechNews() {
            // Simulate fetching news
            const mockNews = [
                {
                    title: "Nouvelle version de JavaScript sortie",
                    summary: "La dernière mise à jour apporte des fonctionnalités révolutionnaires...",
                    image: "https://via.placeholder.com/80"
                },
                {
                    title: "L'IA peut maintenant coder mieux que les humains",
                    summary: "Une étude montre que les modèles d'IA produisent un code plus efficace...",
                    image: "https://via.placeholder.com/80"
                },
                {
                    title: "Les ordinateurs quantiques font des progrès",
                    summary: "Google annonce avoir atteint la suprématie quantique avec son nouveau processeur...",
                    image: "https://via.placeholder.com/80"
                }
            ];
            
            const newsContainer = document.getElementById('newsContainer');
            newsContainer.innerHTML = '';
            
            mockNews.forEach(news => {
                const newsItem = document.createElement('div');
                newsItem.className = 'flex items-start';
                newsItem.innerHTML = `
                    <div class="w-16 h-16 bg-gray-200 rounded-lg mr-3 overflow-hidden">
                        <img src="${news.image}" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <h3 class="font-medium text-sm mb-1">${news.title}</h3>
                        <p class="text-xs text-gray-500">${news.summary}</p>
                    </div>
                `;
                newsContainer.appendChild(newsItem);
            });
        }

        // World map widget
        const countryData = {
            'france': { capital: 'Paris', population: '67 millions' },
            'allemagne': { capital: 'Berlin', population: '83 millions' },
            'espagne': { capital: 'Madrid', population: '47 millions' },
            'italie': { capital: 'Rome', population: '60 millions' },
            'royaume-uni': { capital: 'Londres', population: '67 millions' },
            'etats-unis': { capital: 'Washington', population: '331 millions' },
            'chine': { capital: 'Pékin', population: '1,4 milliard' },
            'japon': { capital: 'Tokyo', population: '126 millions' }
        };

        function highlightCountry() {
            const country = document.getElementById('countrySearch').value.toLowerCase();
            const infoDiv = document.getElementById('countryInfo');
            
            if(countryData[country]) {
                document.getElementById('countryCapital').textContent = countryData[country].capital;
                document.getElementById('countryPopulation').textContent = countryData[country].population;
                infoDiv.classList.remove('hidden');
                
                // In a real app, you would highlight the country on the map
                // This is just a simulation
            } else {
                infoDiv.classList.add('hidden');
                alert('Pays non trouvé. Essayez: France, Allemagne, Espagne, etc.');
            }
        }

        // Mini game widget
        let game;
        let gameScore = 0;

        function loadSelectedGame() {
            const gameType = document.getElementById('gameSelector').value;
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Simple game simulation
            if(gameType === 'snake') {
                ctx.fillStyle = 'green';
                ctx.fillRect(50, 50, 10, 10);
                ctx.fillStyle = 'red';
                ctx.fillRect(100, 80, 10, 10);
            } else if(gameType === 'pong') {
                ctx.fillStyle = 'white';
                ctx.fillRect(10, 80, 10, 40); // Left paddle
                ctx.fillRect(280, 80, 10, 40); // Right paddle
                ctx.fillStyle = 'yellow';
                ctx.fillRect(150, 90, 10, 10); // Ball
            } else if(gameType === 'memory') {
                ctx.fillStyle = 'blue';
                ctx.fillRect(20, 20, 60, 60);
                ctx.fillStyle = 'red';
                ctx.fillRect(100, 20, 60, 60);
                ctx.fillStyle = 'green';
                ctx.fillRect(180, 20, 60, 60);
                ctx.fillStyle = 'yellow';
                ctx.fillRect(260, 20, 60, 60);
            }
        }

        function startGame() {
            const gameType = document.getElementById('gameSelector').value;
            gameScore = 0;
            document.getElementById('gameScore').textContent = `Score: ${gameScore}`;
            
            // Simulate game starting
            if(gameType === 'snake') {
                alert('Snake: Utilisez les flèches pour diriger le serpent!');
            } else if(gameType === 'pong') {
                alert('Pong: Utilisez les flèches haut/bas pour bouger la raquette!');
            } else if(gameType === 'memory') {
                alert('Memory: Retrouvez les paires de cartes identiques!');
            }
            
            // Simulate score increase
            game = setInterval(() => {
                gameScore += Math.floor(Math.random() * 10);
                document.getElementById('gameScore').textContent = `Score: ${gameScore}`;
            }, 1000);
        }

        function resetGame() {
            if(game) clearInterval(game);
            gameScore = 0;
            document.getElementById('gameScore').textContent = `Score: ${gameScore}`;
            loadSelectedGame();
        }

        // Music player widget
        const playlist = [
            {
                title: "Study Session",
                artist: "Chill Beats",
                cover: "https://via.placeholder.com/80",
                file: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
            },
            {
                title: "Classical Focus",
                artist: "Mozart Symphony",
                cover: "https://via.placeholder.com/80",
                file: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
            },
            {
                title: "Jazz Relax",
                artist: "Smooth Jazz Band",
                cover: "https://via.placeholder.com/80",
                file: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
            }
        ];

        let currentTrack = 0;
        let audioPlayer = document.getElementById('audioPlayer');
        let isPlaying = false;

        function initMusicPlayer() {
            loadTrack(currentTrack);
            
            // Update progress bar
            audioPlayer.addEventListener('timeupdate', updateProgress);
            
            // When track ends, play next
            audioPlayer.addEventListener('ended', nextTrack);
        }

        function loadTrack(index) {
            const track = playlist[index];
            document.getElementById('musicTitle').textContent = track.title;
            document.getElementById('musicArtist').textContent = track.artist;
            document.getElementById('musicCover').src = track.cover;
            audioPlayer.src = track.file;
            
            // Reset progress
            updateProgress();
        }

        function togglePlay() {
            const playIcon = document.getElementById('playIcon');
            
            if(isPlaying) {
                audioPlayer.pause();
                playIcon.classList.remove('fa-pause');
                playIcon.classList.add('fa-play');
            } else {
                audioPlayer.play();
                playIcon.classList.remove('fa-play');
                playIcon.classList.add('fa-pause');
            }
            
            isPlaying = !isPlaying;
        }

        function prevTrack() {
            currentTrack = (currentTrack - 1 + playlist.length) % playlist.length;
            loadTrack(currentTrack);
            if(isPlaying) audioPlayer.play();
        }

        function nextTrack() {
            currentTrack = (currentTrack + 1) % playlist.length;
            loadTrack(currentTrack);
            if(isPlaying) audioPlayer.play();
        }

        function updateProgress() {
            const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100 || 0;
            document.getElementById('musicProgress').style.width = progress + '%';
            
            // Format time
            document.getElementById('musicCurrentTime').textContent = 
                formatTime(audioPlayer.currentTime);
            document.getElementById('musicDuration').textContent = 
                formatTime(audioPlayer.duration);
        }

        function formatTime(seconds) {
            if(isNaN(seconds)) return "0:00";
            
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Tamagotchi widget
        let tamagotchi = {
            name: "Edu",
            hunger: 70,
            energy: 50,
            happiness: 80,
            state: "happy"
        };

        function initTamagotchi() {
            updateTamagotchiDisplay();
            
            // Decrease stats over time
            setInterval(() => {
                tamagotchi.hunger = Math.max(0, tamagotchi.hunger - 1);
                tamagotchi.energy = Math.max(0, tamagotchi.energy - 1);
                tamagotchi.happiness = Math.max(0, tamagotchi.happiness - 1);
                
                updateTamagotchiState();
                updateTamagotchiDisplay();
            }, 5000);
        }

        function updateTamagotchiState() {
            if(tamagotchi.hunger < 30 || tamagotchi.energy < 30 || tamagotchi.happiness < 30) {
                tamagotchi.state = "sad";
            } else {
                tamagotchi.state = "happy";
            }
            
            // Update image based on state
            const img = document.getElementById('tamagotchiImage');
            if(tamagotchi.state === "sad") {
                img.src = "https://cdn-icons-png.flaticon.com/512/188/188990.png";
            } else {
                img.src = "https://cdn-icons-png.flaticon.com/512/188/188987.png";
            }
        }

        function updateTamagotchiDisplay() {
            document.getElementById('hungerBar').style.width = tamagotchi.hunger + '%';
            document.getElementById('energyBar').style.width = tamagotchi.energy + '%';
            document.getElementById('happinessBar').style.width = tamagotchi.happiness + '%';
        }

        function feedTamagotchi() {
            tamagotchi.hunger = Math.min(100, tamagotchi.hunger + 20);
            updateTamagotchiState();
            updateTamagotchiDisplay();
        }

        function playWithTamagotchi() {
            tamagotchi.happiness = Math.min(100, tamagotchi.happiness + 15);
            tamagotchi.energy = Math.max(0, tamagotchi.energy - 10);
            updateTamagotchiState();
            updateTamagotchiDisplay();
        }

        function sleepTamagotchi() {
            tamagotchi.energy = Math.min(100, tamagotchi.energy + 30);
            tamagotchi.happiness = Math.max(0, tamagotchi.happiness - 5);
            updateTamagotchiState();
            updateTamagotchiDisplay();
        }

        // Drawing widget
        let canvas, ctx;
        let isDrawing = false;
        let currentColor = 'black';
        let currentBrushSize = 5;

        function init
</html>