{"version":3,"file":"assets/3408.a2f315704125d2299672.js","mappings":"sKAiBA,O,kBAPAA,OAAOC,OAASA,IAChBD,OAAOE,gCAAkCC,KAAKC,MAAMC,WAM5CL,OAAOM,iBACb,IAAK,UACH,qCACA,MACF,IAAK,MACH,qCAKA,MACF,IAAK,aACH,qCACA,MACF,IAAK,QACH,qCACA,MACF,IAAK,OACH,oC,kBChCJC,QAAAA,IAAAA,CAAAA,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,QAAAA,MAAAA,WAAQ,OACN,SACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,QAGA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,SACA,SACA,SACA,UACD,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAGgBvB,EAAEwB,UAElB,IACEzB,EAAAA,EAAAA,MAAAA,MAAAA,WAAQ,OAAC,WAAgB,WAAgB,gCACzCwB,EAAKE,YACP,CAAE,MAAOC,GACPC,QAAQC,IAAI,sDACZD,QAAQE,KAAKH,EACf,CAGAlC,OAAO2B,WAAaA,EAIpB,IAAIW,EAAiB,CACnBC,OAAQ1B,EAAM2B,cAAc,SAC5BC,SAAU5B,EAAM2B,cAAc,WAC9BE,cAAe7B,EAAM2B,cAAc,gBACnCG,cAAe9B,EAAM2B,cAAc,iBAGjCI,EAAiB,IAAIhC,EAAUiC,cAAc,WAAYP,GAC7DM,EAAeE,OACf,IAAIC,EAAgB,IAAInC,EAAUiC,cAAc,SAAUP,GAC1DS,EAAcD,OAIVhC,EAAO,IAAIA,EAAKkC,KAAK,aAAc,YACnC9B,EAAQ,IAAIA,EAAM+B,MAAM,YAAa,CACvClC,OAAQA,IAFV,IAIImC,EAAO,IAAI1B,EAAQ2B,KACnBC,EAAmB,IAAI3B,EAAgB4B,gBAAgB,CACzDnC,MAAOA,EACPH,OAAQA,EACRS,QAAS0B,EACTI,OAAQV,IAENW,EAAc,IAAIhC,EAAWiC,WAAW,mBAAoB,CAC9DzC,OAAQA,EACRqC,iBAAkBA,IAEpBF,EAAKO,WAAW,CAAEF,YAAaA,IAC/B,IAAIG,EAAW,IAAIjD,EAAiBkD,SAAS,CAC3ClB,SAAUH,EAAeG,SACzBM,cAAeA,IAGbpC,EAAW,IAAIA,EAASiD,SAC1B,eACApD,EAAEqD,OACA,CAEEC,WAAY9D,OAAO8D,WACnB/C,OAAQA,EACRqC,iBAAkBA,EAClBG,YAAaA,EACbG,SAAUA,EACVJ,OAAQV,GAEVN,IAIJtC,OAAO8D,WAAWX,KAAK,CAAExC,SAAUA,WAC5BX,OAAO8D,WAEd,IACIC,EAAU,IAAI9C,EAAY+C,YAAY,yBAA0B,CAClErD,SAAUA,EACVI,OAAQA,EACRS,QAAS0B,IAEPe,EAAa,IAAI7C,EAAU8C,UAAU,CACvCd,iBAAkBA,EAClBrC,OAAQA,EACRJ,SAAUA,IAEZyC,EAAiBe,aAAaxD,GAC9ByC,EAAiBgB,cAAcH,GAC/BpC,EAAiBiB,KAAKM,GAClB/B,EAAU,IAAIA,EAAQgD,QACxB,WACA7D,EAAEqD,OACA,CACElD,SAAUA,EACV+C,SAAUA,EACV3C,OAAQA,EACRwC,YAAaA,EACbU,WAAYA,EACZzC,QAAS0B,EACTI,OAAQV,GAEVN,IAZJ,IAeIgC,EAAoB,IAAIhD,EAAiBiD,yBAC3C,qBACA,CACExD,OAAQA,EACRwC,YAAaA,EACb5C,SAAUA,EACVyC,iBAAkBA,IAGtBkB,EAAkBE,4BACI,IAAI9C,EAAe+C,eACvC,sBACA9D,GAGFH,EAAE,QAAQkE,OACR,0KAIF,IAAIC,EAAKnE,EAAE,UAAUoE,cACjBC,EAAKrE,EAAE,UAAUoE,cACjBE,EAAKtE,EAAE,UAAUoE,cACjBD,GAAME,GAAMF,GAAMG,GACpBtE,EAAE,QAAQkE,OACR,+DAGJlE,EAAE,aAAauE,SAEfjE,EAAKkE,OAELjE,EAAOkE,IAAI,4BAA4B,WACrC,IAAIC,EAAOC,SAASC,SAASF,KACzBA,IACFC,SAASC,SAASF,KAAO,GACzBC,SAASC,SAASF,KAAOA,GAE3BvE,EAAS0E,sBAAsB1E,EAAS2E,0BAC1C,IAEA5E,EAAQI,KAAOA,EACfJ,EAAQC,SAAWA,EACnBD,EAAQgD,SAAWA,EACnBhD,EAAQQ,MAAQA,EAChBR,EAAQuD,WAAaA,EACrBvD,EAAQ6E,aA3EW,KA4EnB7E,EAAQW,QAAUA,EAClBX,EAAQqD,QAAUA,EAClBrD,EAAQ4D,kBAAoBA,EAC5B5D,EAAQ0C,iBAAmBA,EAC3B1C,EAAQ6C,YAAcA,EACtB7C,EAAQ8E,QAAU7E,EAAS6E,QAE3B,IACEzE,EAAO0E,QAAQ,8BACjB,CAAE,MAAOC,GACPvD,QAAQwD,MAAM,oCAAqCD,EACrD,CAEAE,OAAOC,eAAenF,EAAS,UAAW,CACxCoF,IAAK,WAIH,OAHA3D,QAAQE,KACN,+HAEKa,CACT,EACA6C,YAAY,EACZC,cAAc,IAGhBlE,EAAUmE,yBAGG1F,EAAQ,MAChB2F,yBAyBLvF,EAASwF,cAAc7D,EAAeI,cACvC,+B","sources":["webpack://@basthon/basthon-notebook/./src/ts/start.ts","webpack://@basthon/basthon-notebook/./src/js/notebook/js/main.js"],"sourcesContent":["import jQuery from \"jquery\";\nimport \"jquery-ui-bundle\";\n\ndeclare global {\n  interface Window {\n    jQuery?: any;\n    BASTHON_CACHE_BUSTING_TIMESTAMP?: string;\n  }\n}\n\nwindow.jQuery = jQuery;\nwindow.BASTHON_CACHE_BUSTING_TIMESTAMP = Date.now().toString();\n\n// this import starts the notebook\nimport \"../js/notebook/js/main\";\n\n// dynamically importing codemirror mode\nswitch (window.basthonLanguage) {\n  case \"python3\":\n    import(\"codemirror/mode/python/python\");\n    break;\n  case \"sql\":\n    import(\"codemirror/mode/sql/sql\");\n    /* can't figure out what sql-hint adds... uncomment to try */\n    // import(\"codemirror/addon/hint/show-hint\");\n    // import(\"codemirror/addon/hint/show-hint.css\");\n    // import(\"codemirror/addon/hint/sql-hint\");\n    break;\n  case \"javascript\":\n    import(\"codemirror/mode/javascript/javascript\");\n    break;\n  case \"ocaml\":\n    import(\"codemirror/mode/mllike/mllike\");\n    break;\n  case \"xcas\":\n    import(\"../js/codemirror/xcasmode\");\n    break;\n}\n","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nrequire([\n  \"jquery\",\n  \"services/contents\",\n  \"base/js/namespace\",\n  \"notebook/js/notebook\",\n  \"services/config\",\n  \"base/js/utils\",\n  \"base/js/page\",\n  \"base/js/events\",\n  \"base/js/promises\",\n  // [Basthon]\n  //'auth/js/loginwidget',\n  \"notebook/js/maintoolbar\",\n  \"notebook/js/pager\",\n  \"notebook/js/promises\",\n  \"notebook/js/quickhelp\",\n  \"notebook/js/menubar\",\n  \"notebook/js/notificationarea\",\n  \"notebook/js/savewidget\",\n  \"notebook/js/actions\",\n  \"notebook/js/keyboardmanager\",\n  \"notebook/js/kernelselector\",\n  \"codemirror/lib/codemirror\",\n  \"notebook/js/about\",\n  \"notebook/js/searchandreplace\",\n  \"notebook/js/clipboard\",\n  \"bidi/bidi\",\n], function (\n  $,\n  contents_service,\n  IPython,\n  notebook,\n  configmod,\n  utils,\n  page,\n  events,\n  promises, // useful: do not remove\n  // [Basthon]\n  //loginwidget,\n  maintoolbar,\n  pager,\n  nb_promises, // useful: do not remove\n  quickhelp,\n  menubar,\n  notificationarea,\n  savewidget,\n  actions,\n  keyboardmanager,\n  kernelselector,\n  CodeMirror,\n  about, // useful: do not remove\n  searchandreplace,\n  clipboard,\n  bidi,\n) {\n  \"use strict\";\n\n  // Pull typeahead from the global jquery object\n  var typeahead = $.typeahead;\n\n  try {\n    require([\"custom/custom\"], function () {});\n    bidi.loadLocale();\n  } catch (err) {\n    console.log(\"Error processing custom.js. Logging and continuing\");\n    console.warn(err);\n  }\n\n  // compat with old IPython, remove for IPython > 3.0\n  window.CodeMirror = CodeMirror;\n\n  // Setup all of the config related things\n\n  var common_options = {\n    ws_url: utils.get_body_data(\"wsUrl\"),\n    base_url: utils.get_body_data(\"baseUrl\"),\n    notebook_path: utils.get_body_data(\"notebookPath\"),\n    notebook_name: utils.get_body_data(\"notebookName\"),\n  };\n\n  var config_section = new configmod.ConfigSection(\"notebook\", common_options);\n  config_section.load();\n  var common_config = new configmod.ConfigSection(\"common\", common_options);\n  common_config.load();\n\n  // Instantiate the main objects\n\n  var page = new page.Page(\"div#header\", \"div#site\");\n  var pager = new pager.Pager(\"div#pager\", {\n    events: events,\n  });\n  var acts = new actions.init();\n  var keyboard_manager = new keyboardmanager.KeyboardManager({\n    pager: pager,\n    events: events,\n    actions: acts,\n    config: config_section,\n  });\n  var save_widget = new savewidget.SaveWidget(\"span#save_widget\", {\n    events: events,\n    keyboard_manager: keyboard_manager,\n  });\n  acts.extend_env({ save_widget: save_widget });\n  var contents = new contents_service.Contents({\n    base_url: common_options.base_url,\n    common_config: common_config,\n  });\n\n  var notebook = new notebook.Notebook(\n    \"div#notebook\",\n    $.extend(\n      {\n        // [Basthon]\n        basthonGUI: window.basthonGUI,\n        events: events,\n        keyboard_manager: keyboard_manager,\n        save_widget: save_widget,\n        contents: contents,\n        config: config_section,\n      },\n      common_options,\n    ),\n  );\n  // [Basthon]\n  window.basthonGUI.init({ notebook: notebook });\n  delete window.basthonGUI;\n  // [Basthon]\n  var login_widget = null; //new loginwidget.LoginWidget('span#login_widget', common_options);\n  var toolbar = new maintoolbar.MainToolBar(\"#maintoolbar-container\", {\n    notebook: notebook,\n    events: events,\n    actions: acts,\n  });\n  var quick_help = new quickhelp.QuickHelp({\n    keyboard_manager: keyboard_manager,\n    events: events,\n    notebook: notebook,\n  });\n  keyboard_manager.set_notebook(notebook);\n  keyboard_manager.set_quickhelp(quick_help);\n  searchandreplace.load(keyboard_manager);\n  var menubar = new menubar.MenuBar(\n    \"#menubar\",\n    $.extend(\n      {\n        notebook: notebook,\n        contents: contents,\n        events: events,\n        save_widget: save_widget,\n        quick_help: quick_help,\n        actions: acts,\n        config: config_section,\n      },\n      common_options,\n    ),\n  );\n  var notification_area = new notificationarea.NotebookNotificationArea(\n    \"#notification_area\",\n    {\n      events: events,\n      save_widget: save_widget,\n      notebook: notebook,\n      keyboard_manager: keyboard_manager,\n    },\n  );\n  notification_area.init_notification_widgets();\n  var kernel_selector = new kernelselector.KernelSelector(\n    \"#kernel_logo_widget\",\n    notebook,\n  );\n\n  $(\"body\").append(\n    '<div id=\"fonttest\"><pre><span id=\"test1\">x</span>' +\n      '<span id=\"test2\" style=\"font-weight: bold;\">x</span>' +\n      '<span id=\"test3\" style=\"font-style: italic;\">x</span></pre></div>',\n  );\n  var nh = $(\"#test1\").innerHeight();\n  var bh = $(\"#test2\").innerHeight();\n  var ih = $(\"#test3\").innerHeight();\n  if (nh != bh || nh != ih) {\n    $(\"head\").append(\n      \"<style>.CodeMirror span { vertical-align: bottom; }</style>\",\n    );\n  }\n  $(\"#fonttest\").remove();\n\n  page.show();\n\n  events.one(\"notebook_loaded.Notebook\", function () {\n    var hash = document.location.hash;\n    if (hash) {\n      document.location.hash = \"\";\n      document.location.hash = hash;\n    }\n    notebook.set_autosave_interval(notebook.minimum_autosave_interval);\n  });\n\n  IPython.page = page;\n  IPython.notebook = notebook;\n  IPython.contents = contents;\n  IPython.pager = pager;\n  IPython.quick_help = quick_help;\n  IPython.login_widget = login_widget;\n  IPython.menubar = menubar;\n  IPython.toolbar = toolbar;\n  IPython.notification_area = notification_area;\n  IPython.keyboard_manager = keyboard_manager;\n  IPython.save_widget = save_widget;\n  IPython.tooltip = notebook.tooltip;\n\n  try {\n    events.trigger(\"app_initialized.NotebookApp\");\n  } catch (e) {\n    console.error(\"Error in app_initialized callback\", e);\n  }\n\n  Object.defineProperty(IPython, \"actions\", {\n    get: function () {\n      console.warn(\n        'accessing \"actions\" on the global IPython/Jupyter is not recommended. Pass it to your objects constructors at creation time',\n      );\n      return acts;\n    },\n    enumerable: true,\n    configurable: false,\n  });\n\n  clipboard.setup_clipboard_events();\n\n  // [Basthon]\n  const rise = require(\"../../nbextensions/rise/main\");\n  rise.load_ipython_extension();\n\n  /*\n    // Now actually load nbextensionsload_extensions_from_config\n    Promise.all([\n        utils.load_extensions_from_config(config_section),\n        utils.load_extensions_from_config(common_config),\n    ])\n    .catch(function(error) {\n        console.error('Could not load nbextensions from user config files', error);\n    })\n    // BEGIN HARDCODED WIDGETS HACK\n    .then(function() {\n        if (!utils.is_loaded('jupyter-js-widgets/extension')) {\n            // Fallback to the ipywidgets extension\n            utils.load_extension('widgets/notebook/js/extension').catch(function () {\n                console.warn('Widgets are not available.  Please install widgetsnbextension or ipywidgets 4.0');\n            });\n        }\n    })\n    .catch(function(error) {\n        console.error('Could not load ipywidgets', error);\n    });\n    // END HARDCODED WIDGETS HACK\n    */\n  notebook.load_notebook(common_options.notebook_path);\n});\n"],"names":["window","jQuery","BASTHON_CACHE_BUSTING_TIMESTAMP","Date","now","toString","basthonLanguage","require","$","contents_service","IPython","notebook","configmod","utils","page","events","promises","maintoolbar","pager","nb_promises","quickhelp","menubar","notificationarea","savewidget","actions","keyboardmanager","kernelselector","CodeMirror","about","searchandreplace","clipboard","bidi","typeahead","loadLocale","err","console","log","warn","common_options","ws_url","get_body_data","base_url","notebook_path","notebook_name","config_section","ConfigSection","load","common_config","Page","Pager","acts","init","keyboard_manager","KeyboardManager","config","save_widget","SaveWidget","extend_env","contents","Contents","Notebook","extend","basthonGUI","toolbar","MainToolBar","quick_help","QuickHelp","set_notebook","set_quickhelp","MenuBar","notification_area","NotebookNotificationArea","init_notification_widgets","KernelSelector","append","nh","innerHeight","bh","ih","remove","show","one","hash","document","location","set_autosave_interval","minimum_autosave_interval","login_widget","tooltip","trigger","e","error","Object","defineProperty","get","enumerable","configurable","setup_clipboard_events","load_ipython_extension","load_notebook"],"sourceRoot":""}